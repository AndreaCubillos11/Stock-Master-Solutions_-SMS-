<header-principal [datosHeader]="datosHeader" />
<h1 class="text-center"><b>Descargar reportes</b></h1>
<section class="container mt-3">
    <div class="grid">
        <div class="grid-item salmon">
            <mat-form-field appearance="fill">
                <mat-label>Tipo de reporte</mat-label>
                <mat-select (selectionChange)="seleccionarReporte($event.value)">
                    <mat-option *ngFor="let reporte of reportes" [value]="reporte.id">
                        {{ reporte.opcion }}
                    </mat-option>
                </mat-select>
                <img matSuffix src="/Stock-Master-Solutions_-SMS-/assets/tienda.svg" alt="tienda">
            </mat-form-field>

            <ng-template [ngIf]="reporteSeleccionado == '1'">
                <mat-form-field appearance="fill">
                    <mat-label>Rango de Tiempo</mat-label>
                    <mat-select (selectionChange)="seleccionarRango($event.value)">
                        <mat-option *ngFor="let tiempo of rangoDeTiempo" [value]="tiempo.id">
                            {{ tiempo.opcion }}
                        </mat-option>
                    </mat-select>
                    <img matSuffix src="/Stock-Master-Solutions_-SMS-/assets/tienda.svg" alt="tienda">
                </mat-form-field>
            </ng-template>

            <ng-template [ngIf]="(reporteSeleccionado == '2'|| reporteSeleccionado =='1') && !idTienda">
                <mat-form-field appearance="fill" class="medium-select">
                    <mat-label>Tiendas</mat-label>
                    <mat-select [(ngModel)]="tiendaSeleccionada">
                        <mat-option *ngFor="let tienda of tiendas" [value]="tienda.id">
                            {{tienda.tienda}}
                        </mat-option>
                    </mat-select>
                    <img matSuffix src="/Stock-Master-Solutions_-SMS-/assets/tienda.svg" alt="tienda">
                </mat-form-field>

            </ng-template>

            <ng-template [ngIf]="tiendaSeleccionada && reporteSeleccionado == '2'">
                <div class="form-check form-check-inline mx-5">
                    <input class="form-check-input" type="radio" name="inlineRadioOptions" id="radioTienda"
                        [(ngModel)]="opcionSeleccionada" value=1>
                    <label class="form-check-label" for="radioTienda">Productos Mas Vendidos</label>
                </div>

                <div class="form-check form-check-inline mx-5">
                    <input class="form-check-input" type="radio" name="inlineRadioOptions" id="radioProducto"
                        [(ngModel)]="opcionSeleccionada" value=2>
                    <label class="form-check-label" for="radioProducto">Productos Menos Vendidos</label>
                </div>
            </ng-template>

            <ng-template [ngIf]="rangoSeleccionado">
                <mat-form-field appearance="fill">
                    <mat-label>ID del producto</mat-label>
                    <input matInput type="number" [(ngModel)]="idProducto">
                </mat-form-field>
            </ng-template>

        </div>

        <div class="grid-item broccoli">
            <!-- <img src="/assets/StockMasterAdminLogo2.png" alt="" style="opacity: 50%;"> -->
            <div id="grafica">
                <canvas #lineChartCanvas></canvas>
            </div>
            <div class="row">
                <div class="col">
                    <button class="boton" (click)="generarGrafica()">
                        Generar Gr√°fica
                    </button>
                </div>
                <!-- <div class="col">
                    <button class="btn btn-primary">Gooool</button>
                </div> -->
            </div>


        </div>

        <div class="grid-item tamago">
            <!-- <button mat-raised-button color="primary" (click)="generarPDF()">Generar PDF</button> -->
        </div>
        <div id="tabla-pdf">
            <!-- <comp-tabla/> -->
        </div>
    </div>
</section>